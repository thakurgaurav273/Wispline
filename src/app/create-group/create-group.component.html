<!-- Angular Template -->
<div class="modal-overlay">
    <div class="modal-container">
      <div class="modal-header">
        <h2 class="modal-title">New Group</h2>
        <button class="close-button" (click)="closeModal()">
          <svg class="close-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
  
      <div class="modal-body">
        <div class="privacy-tabs">
          <button 
            class="privacy-tab"
            [class.active]="selectedPrivacy === 'public'"
            (click)="setPrivacyType('public')">
            Public
          </button>
          <button 
            class="privacy-tab"
            [class.active]="selectedPrivacy === 'private'"
            (click)="setPrivacyType('private')">
            Private
          </button>
          <button 
            class="privacy-tab"
            [class.active]="selectedPrivacy === 'password'"
            (click)="setPrivacyType('password')">
            Password
          </button>
        </div>
  
        <form (ngSubmit)="onSubmit()" #groupForm="ngForm">
          <div class="form-group">
            <label class="form-label" for="groupName">Group Name</label>
            <input 
              type="text" 
              id="groupName" 
              class="form-input" 
              placeholder="Enter group name"
              [(ngModel)]="groupName"
              name="groupName"
              required
              #nameInput="ngModel">
            <div class="error-message" *ngIf="nameInput.invalid && nameInput.touched">
              Group name is required
            </div>
          </div>
  
          <div class="form-group" *ngIf="selectedPrivacy === 'password'">
            <label class="form-label" for="groupPassword">Password</label>
            <input 
              type="password" 
              id="groupPassword" 
              class="form-input" 
              placeholder="Enter group password"
              [(ngModel)]="groupPassword"
              name="groupPassword"
              [required]="selectedPrivacy === 'password'"
              #passwordInput="ngModel">
            <div class="error-message" *ngIf="passwordInput.invalid && passwordInput.touched">
              Password is required for password-protected groups
            </div>
          </div>
  
          <button 
            type="submit" 
            class="create-button"
            [disabled]="!groupForm.valid || isCreating">
            {{ isCreating ? 'Creating...' : 'Create Group' }}
          </button>
        </form>
      </div>
    </div>
  </div>
  